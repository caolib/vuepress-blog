import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as s,d as e}from"./app-BpSU7X1V.js";const t={},i=e(`<h1 id="快速入土" tabindex="-1"><a class="header-anchor" href="#快速入土"><span>快速入土</span></a></h1><h2 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h2><p><a href="https://nacos.io/download/nacos-server/#%E7%A8%B3%E5%AE%9A%E7%89%88%E6%9C%AC" target="_blank" rel="noopener noreferrer">Nacos Server 下载 | Nacos</a></p><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><p>解压缩后在<code>bin</code>目录下有几个脚本，<code>startup</code>就是启动脚本,默认都是集群<code>cluster</code>方式启动,也可以使用单机<code>standalone</code>模式启动</p><ol><li><p>第一种方法，添加启动参数，打开控制台，输入：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>startup <span class="token parameter variable">-m</span> standalone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>第二种方法，复制一份<code>startup.cmd</code>文件，修改启动模式</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">MODE</span><span class="token operator">=</span><span class="token string">&quot;standalone&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>我表示：在<code>terminal</code>中添加一个powershell的配置，设置启动目录为nacos的bin目录，修改startup为nacos</p><figure><img src="https://img2.imgtp.com/2024/04/04/rIiefetU.png" alt="image-20240316202535951" tabindex="0" loading="lazy"><figcaption>image-20240316202535951</figcaption></figure></li></ol><p>启动后默认端口为<code>8848</code>，可以在<code>conf/application.properties</code>文件中修改<code>server.port</code></p><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8888</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>浏览器打开<code>http://localhost:8848/nacos</code>即可看到nacos界面</p><figure><img src="https://s2.loli.net/2024/03/16/Q3jGhpuLe7iU4Kg.png" alt="image-20240316203105872" tabindex="0" loading="lazy"><figcaption>image-20240316203105872</figcaption></figure><h2 id="导入依赖" tabindex="-1"><a class="header-anchor" href="#导入依赖"><span>导入依赖</span></a></h2><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--nacos--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加配置" tabindex="-1"><a class="header-anchor" href="#添加配置"><span>添加配置</span></a></h2><p>添加nacos地址与当前项目的应用名称，默认是单机模式</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>  
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> book<span class="token punctuation">-</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="注册服务" tabindex="-1"><a class="header-anchor" href="#注册服务"><span>注册服务</span></a></h2><p>启动项目，可以看到当前项目服务已经注册到nacos</p><figure><img src="https://s2.loli.net/2024/03/16/uUS8oGh4OliKAVF.png" alt="image-20240316204044294" tabindex="0" loading="lazy"><figcaption>image-20240316204044294</figcaption></figure><hr><h1 id="配置管理" tabindex="-1"><a class="header-anchor" href="#配置管理"><span>配置管理</span></a></h1><ol><li>新建<code>bootstrap.yml</code>文件，此文件优先级很高，可以在启动时优先读取，将nacos配置放在这个文件中</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yml <span class="token comment"># 文件后缀名</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> gateway<span class="token punctuation">-</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>在nacos控制台创建配置文件</li></ol><figure><img src="https://img2.imgtp.com/2024/04/04/GU95oOv7.png" alt="image-20240324224923143" tabindex="0" loading="lazy"><figcaption>image-20240324224923143</figcaption></figure><p>配置文件的名字为<code>{application.name}-{dev/test}.yml</code></p><figure><img src="https://img2.imgtp.com/2024/04/04/stfNxt9H.png" alt="image-20240324225122126" tabindex="0" loading="lazy"><figcaption>image-20240324225122126</figcaption></figure><p>配置内容一般为开关之类的配置，填写后点击发布</p><ol start="3"><li>读取配置</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">config</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;cao&quot;</span>
  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用<code>@ConfigurationProperties</code>注解可以实现配置的热更新(配置发布后项目中配置立即更新)</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;config&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigProperties</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31),o=[i];function p(l,c){return s(),n("div",null,o)}const u=a(t,[["render",p],["__file","nacos.html.vue"]]),m=JSON.parse('{"path":"/posts/backend/nacos.html","title":"nacos从入门到入土","lang":"zh-CN","frontmatter":{"title":"nacos从入门到入土","date":"2024-03-16T18:42:42.000Z","categories":"后端","tags":["springcloud","nacos"],"cover":"https://img2.imgtp.com/2024/04/26/Ekm1nLB8.jpeg","sticky":478,"description":"快速入土 下载 Nacos Server 下载 | Nacos 启动 解压缩后在bin目录下有几个脚本，startup就是启动脚本,默认都是集群cluster方式启动,也可以使用单机standalone模式启动 第一种方法，添加启动参数，打开控制台，输入： 第二种方法，复制一份startup.cmd文件，修改启动模式 我表示：在terminal中添加一...","head":[["meta",{"property":"og:url","content":"https://caolib.pages.dev/posts/backend/nacos.html"}],["meta",{"property":"og:title","content":"nacos从入门到入土"}],["meta",{"property":"og:description","content":"快速入土 下载 Nacos Server 下载 | Nacos 启动 解压缩后在bin目录下有几个脚本，startup就是启动脚本,默认都是集群cluster方式启动,也可以使用单机standalone模式启动 第一种方法，添加启动参数，打开控制台，输入： 第二种方法，复制一份startup.cmd文件，修改启动模式 我表示：在terminal中添加一..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img2.imgtp.com/2024/04/26/Ekm1nLB8.jpeg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-26T05:42:09.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://img2.imgtp.com/2024/04/26/Ekm1nLB8.jpeg"}],["meta",{"name":"twitter:image:alt","content":"nacos从入门到入土"}],["meta",{"property":"article:author","content":"caolibin"}],["meta",{"property":"article:tag","content":"springcloud"}],["meta",{"property":"article:tag","content":"nacos"}],["meta",{"property":"article:published_time","content":"2024-03-16T18:42:42.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-26T05:42:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"nacos从入门到入土\\",\\"image\\":[\\"https://img2.imgtp.com/2024/04/04/rIiefetU.png\\",\\"https://s2.loli.net/2024/03/16/Q3jGhpuLe7iU4Kg.png\\",\\"https://s2.loli.net/2024/03/16/uUS8oGh4OliKAVF.png\\",\\"https://img2.imgtp.com/2024/04/04/GU95oOv7.png\\",\\"https://img2.imgtp.com/2024/04/04/stfNxt9H.png\\"],\\"datePublished\\":\\"2024-03-16T18:42:42.000Z\\",\\"dateModified\\":\\"2024-05-26T05:42:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"caolibin\\",\\"url\\":\\"https://github.com/caolib\\",\\"email\\":\\"1265501579@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"下载","slug":"下载","link":"#下载","children":[]},{"level":2,"title":"启动","slug":"启动","link":"#启动","children":[]},{"level":2,"title":"导入依赖","slug":"导入依赖","link":"#导入依赖","children":[]},{"level":2,"title":"添加配置","slug":"添加配置","link":"#添加配置","children":[]},{"level":2,"title":"注册服务","slug":"注册服务","link":"#注册服务","children":[]}],"git":{"createdTime":1716693622000,"updatedTime":1716702129000,"contributors":[{"name":"clb","email":"1265501579@qq.com","commits":2}]},"readingTime":{"minutes":1.55,"words":466},"filePathRelative":"posts/backend/nacos.md","localizedDate":"2024年3月17日","excerpt":"\\n<h2>下载</h2>\\n<p><a href=\\"https://nacos.io/download/nacos-server/#%E7%A8%B3%E5%AE%9A%E7%89%88%E6%9C%AC\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Nacos Server 下载 | Nacos</a></p>\\n<h2>启动</h2>\\n<p>解压缩后在<code>bin</code>目录下有几个脚本，<code>startup</code>就是启动脚本,默认都是集群<code>cluster</code>方式启动,也可以使用单机<code>standalone</code>模式启动</p>","autoDesc":true}');export{u as comp,m as data};
